(function(t){function e(e){for(var l,n,i=e[0],r=e[1],u=e[2],c=0,m=[];c<i.length;c++)n=i[c],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],l=!0,i=1;i<a.length;i++){var r=a[i];0!==s[r]&&(l=!1)}l&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var l={},s={main:0},o=[];function n(e){if(l[e])return l[e].exports;var a=l[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=l,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(a,l,function(e){return t[e]}.bind(null,l));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=r;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var l=a("8a23"),s=a.n(l);s.a},"0f51":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{class:t.buttonClass,attrs:{href:t.link},on:{click:function(e){return e.preventDefault(),t.executeAction(e)}}},[a("i",{class:t.icon}),t._v(" "+t._s(t.buttonText)+" ")])},s=[],o={props:["action","module"],methods:{executeAction:function(t){var e=this;UIkit.notification.closeAll();var a,l=t.target.href;("install"!==this.action&&"downloadAndInstall"!==this.action||(vm.isLoading=!0,this.$http.get(l,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){200===t.status?(vm.isLoading=!1,vm.loadData(),t.data.message?UIkit.notification(t.data.message,{status:t.data.status,timeout:2e3}):UIkit.modal.alert("no correct result message was returned from Modules Manager 2")):(vm.isLoading=!1,UIkit.modal.alert("Error"))})).catch((function(t){vm.isLoading=!1,UIkit.modal.alert("Error: "+t)}))),"uninstall"===this.action||"update"===this.action||"delete"===this.action)&&("uninstall"===this.action&&(a="Do you really want to uninstall the module ".concat(this.module.title,"?")),"update"===this.action&&(a="Do you really want to update the module ".concat(this.module.title,"?")),"delete"===this.action&&(a="Do you really want to remove the module ".concat(this.module.title,"?")),UIkit.modal.confirm(a).then((function(t){vm.isLoading=!0,e.$http.get(l,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){200===t.status?(vm.isLoading=!1,vm.loadData(),t.data.message?UIkit.notification(t.data.message,{status:t.data.status,timeout:2e3}):UIkit.modal.alert("no correct result message was returned from Modules Manager 2")):(vm.isLoading=!1,UIkit.modal.alert("Error"))})).catch((function(t){vm.isLoading=!1,UIkit.modal.alert("Error: "+t)}))}),(function(){})))}},data:function(){var t="./",e="",a="",l="uk-button uk-button-small ";return"install"===this.action&&(t+="install/?&modal=1&class="+this.module.class_name,l+="uk-button-primary",e="fa fa-plug",a="Install"),"update"===this.action&&(t+="download/?&modal=1&class="+this.module.class_name,l+="confirm uk-button-secondary",e="fa fa-arrow-circle-up",a="Update to ".concat(this.module.remote_version)),"uninstall"===this.action&&(t+="uninstall/?&modal=1&execute=true&class="+this.module.class_name,l+="confirm uk-button-primary uk-button-danger",e="fa fa-power-off",a="Uninstall"),"delete"===this.action&&(t+="delete/?&modal=1&class="+this.module.class_name,l+="confirm uk-button-primary uk-button-danger",e="fa fa-trash",a="Delete files"),"settings"===this.action&&(t="../../module/edit?name="+this.module.class_name+"&collapse_info=1&modal=1&",l+="confirm uk-button-default pw-panel pw-panel-reload",e="fa fa-cog",a="Settings"),"downloadAndInstall"===this.action&&(t+="download/?url="+this.module.download_url+"&class="+this.module.class_name,l+="uk-button-primary",e="fa fa-download",a="Download and install"),{link:t,buttonClass:l,icon:e,buttonText:a}}},n=o,i=a("2877"),r=Object(i["a"])(n,l,s,!1,null,null,null);e["a"]=r.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var l=a("a026"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isError||t.isLoading?a("div",{staticClass:"uk-card uk-card-default uk-card-body uk-card-small",attrs:{id:"loadingIndicator"}},[t.isError?a("div",[t._v("Error while loading modules")]):t.isLoading?a("div",[a("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-2x fa-fw"}),a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()]):t._e(),t._m(0),a("div",{staticClass:"uk-switcher"},[a("div",{staticClass:"module-manager-options uk-padding uk-padding-remove-top",attrs:{id:"module-manager-options"}},[a("div",{staticClass:"uk-navbar-container uk-navbar-transparent",attrs:{"uk-navbar":""}},[a("div",{staticClass:"uk-navbar-right"},[t._v(" Display as: "),a("ul",{staticClass:"uk-navbar-nav"},[a("li",{class:{"uk-active":"cards"===t.layout}},[a("a",{attrs:{value:"cards"},on:{click:function(e){return t.selectedLayout("cards")}}},[a("span",{attrs:{"uk-icon":"grid"}}),t._v(" cards ")])]),a("li",{class:{"uk-active":"reducedCards"===t.layout}},[a("a",{attrs:{value:"cards"},on:{click:function(e){return t.selectedLayout("reducedCards")}}},[a("i",{staticClass:"fa fa-id-card"}),t._v(" reduced cards ")])]),a("li",{class:{"uk-active":"table"===t.layout}},[a("a",{attrs:{value:"table"},on:{click:function(e){return t.selectedLayout("table")}}},[a("span",{attrs:{"uk-icon":"table"}}),t._v(" table (not finished yet) ")])])])])]),a("div",{},[a("div",{attrs:{"uk-grid":""}},[a("div",{staticClass:"uk-width-1-2@m"},[a("label",[t._v("Search for module")]),a("v-select",{attrs:{options:t.allmodules,label:"title"},on:{input:t.selectedModule},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})],1),a("div",{staticClass:"uk-width-1-2@m"},[a("label",[t._v("Category")]),a("v-select",{attrs:{options:t.categories,label:"title"},on:{input:t.selectedCategory},model:{value:t.selectCategoryValue,callback:function(e){t.selectCategoryValue=e},expression:"selectCategoryValue"}})],1)]),a("div",{staticClass:"uk-margin-top"},[a("div",{staticClass:"uk-grid-small uk-child-width-auto mt-10",attrs:{"uk-grid":""}},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],staticClass:"uk-radio",attrs:{type:"radio",id:"all",value:""},domProps:{checked:t._q(t.picked,"")},on:{change:function(e){t.picked=""}}}),t._v("show all ")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],staticClass:"uk-radio",attrs:{type:"radio",id:"installed",value:"installed"},domProps:{checked:t._q(t.picked,"installed")},on:{change:function(e){t.picked="installed"}}}),t._v("show only installed ")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],staticClass:"uk-radio",attrs:{type:"radio",id:"uninstalled",value:"downloaded"},domProps:{checked:t._q(t.picked,"downloaded")},on:{change:function(e){t.picked="downloaded"}}}),t._v(" show only uninstalled ")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],staticClass:"uk-radio",attrs:{type:"radio",id:"updateable",value:"updateable"},domProps:{checked:t._q(t.picked,"updateable")},on:{change:function(e){t.picked="updateable"}}}),t._v("show only updateable ")]),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],staticClass:"uk-radio",attrs:{type:"radio",id:"recommended",value:"recommended"},domProps:{checked:t._q(t.picked,"recommended")},on:{change:function(e){t.picked="recommended"}}}),t._v(" show most recommended ")]),a("span",[t._v("Picked: "+t._s(t.picked))])])])])]),t._m(1)]),"cards"===t.layout||"reducedCards"===t.layout?a("div",[!0!==t.isLoading?a("p",[t._v(t._s(t.listLength)+" modules in this category. Total number of modules: "+t._s(t.allmodules.length))]):t._e(),a("div",{staticClass:"js-filter uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-match",attrs:{id:"modules","uk-grid":""}},t._l(t.list,(function(e){return a("div",{key:e.title},[a("transition",{attrs:{name:"slide-fade",appear:""}},[a("div",{staticClass:"uk-card uk-card-default uk-card-body uk-card-small"},[a("div",{staticClass:"uk-flex uk-flex-between uk-flex-wrap"},[a("div",[a("span",{staticClass:"h3 uk-card-title"},[t._v(t._s(e.title))]),a("br"),a("small",[t._v(" "+t._s(e.name)+" by "),t._l(e.authors,(function(e,l){return a("a",{key:e.name,attrs:{tabindex:"-1",href:e.url}},[t._v(t._s(""!=e&&0!=l?",":"")+" "+t._s(e.name))])}))],2),a("span",{staticClass:"uk-text-muted"},[t._v("/")]),a("small",[t._v(" latest version: "+t._s(e.module_version)+" "+t._s(e.release_state.title)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"module.status"}]},[t._v("/")]),e.status?a("span",{domProps:{innerHTML:t._s(e.status)}}):t._e()]),a("br")]),"cards"===t.layout?a("div",[a("span",{staticClass:"uk-text-muted uk-text-small"},[t._v(t._s(e.likes))]),t._v(" "),a("span",{staticClass:"fa fa-heart"})]):t._e()]),"cards"===t.layout?a("p",{staticClass:"uk-text-meta"},[t._v(t._s(e.summary))]):t._e(),a("p",{attrs:{"uk-margin":""}},t._l(e.actions,(function(t){return a("ActionButtons",{key:t,attrs:{action:t,module:e}})})),1),e.dependencies?a("p",{domProps:{innerHTML:t._s(e.dependencies)}}):t._e(),a("ul",{attrs:{"uk-accordion":""}},[a("li",[a("a",{staticClass:"uk-accordion-title uk-text-meta",attrs:{href:"#"}},[t._v("show more information")]),a("div",{staticClass:"uk-accordion-content"},["reducedCards"===t.layout?a("p",[t._v(t._s(e.summary))]):t._e(),e.forum_url||e.project_url?a("p",[e.project_url?a("a",{staticClass:"pw-modal",attrs:{href:e.project_url,target:"_blank"}},[a("i",{staticClass:"fa fa-github"}),t._v(" Project on Github ")]):t._e(),a("br"),e.forum_url?a("a",{attrs:{href:e.forum_url,target:"_blank"}},[a("i",{staticClass:"fa fa-comments"}),t._v(" Support Forum ")]):t._e()]):t._e(),a("p",[t._v(" Categories: "),t._l(e.categories,(function(l,s){return a("span",{key:l.title},[a("a",{attrs:{href:l.url}},[t._v(t._s(l.title))]),s+1<e.categories.length?a("span",[t._v(",")]):t._e()])}))],2),a("p",[t._v(" Compatible with PW versions: "),a("br"),t._l(e.pw_versions,(function(l,s){return a("span",{key:s},[t._v(" "+t._s(l.title)+" "),s+1<e.pw_versions.length?a("span",[t._v(",")]):t._e()])}))],2)])])])])])],1)})),0)]):t._e(),"table"===t.layout?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.list,"disable-pagination":!0,"hide-default-footer":!0,"fixed-header":!0,"show-select":!0},scopedSlots:t._u([{key:"item.actions",fn:function(e){var l=e.item;return t._l(l.actions,(function(t){return a("ActionButtons",{key:t,attrs:{action:t,module:l}})}))}}],null,!1,1239063054)}),t._l(t.list,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],key:e.title},[t._v(t._s(e.name))])}))],2):t._e()])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{attrs:{"uk-tab":""}},[a("li",{staticClass:"uk-active"},[a("a",{attrs:{href:"#module-manager-install-from-url"}},[t._v("Install and manage modules")])]),a("li",[a("a",{attrs:{href:"#module-manager-options"}},[t._v("Install module from URL or upload")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"module-manager-options uk-padding",attrs:{id:"module-manager-install-from-url"}},[a("h3",[t._v("Download and install a module from URL (not implemented yet)")]),a("p",[t._v("Download a ZIP file containing a module. If you download a module that is already installed, the installed version will be overwritten with the newly downloaded version.")]),a("form",{staticClass:"uk-form-horizontal",attrs:{action:"./download"}},[a("input",{staticClass:"uk-input uk-width-3-4",attrs:{type:"text",name:"url",placeholder:"URL of the module's zip file",id:"module-download-url"}}),a("button",{staticClass:"uk-button uk-button-primary installFromURL",attrs:{type:"submit"}},[a("span",{staticClass:"text"},[t._v("Install module")])])]),a("p",{staticClass:"uk-alert uk-alert-warning"},[t._v("Be absolutely certain that you trust the source of the ZIP file.")])])}],n=a("ef3c"),i=n["a"],r=(a("034f"),a("2877")),u=a("6544"),d=a.n(u),c=a("8fea"),m=a("b974"),p=Object(r["a"])(i,s,o,!1,null,null,null),f=p.exports;d()(p,{VDataTable:c["a"],VSelect:m["a"]});var h=a("f309");l["a"].use(h["a"]);var v=new h["a"]({icons:{iconfont:"mdi"}}),g=a("bc3a"),k=a.n(g);l["a"].prototype.$http=k.a,l["a"].config.productionTip=!1;new l["a"]({el:"#app",components:{App:f},vuetify:v,template:"<App/>"})},"8a23":function(t,e,a){},ef3c:function(t,e,a){"use strict";(function(t){a("4de4"),a("7db0"),a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d");var l=a("4a7a"),s=a.n(l),o=a("0f51"),n=[],i=[],r=localStorage.getItem("layout")?localStorage.getItem("layout"):"cards";e["a"]={name:"App",components:{vSelect:s.a,ActionButtons:o["a"]},data:function(){return{headers:[{text:"Module name",align:"start",sortable:!0,value:"title"},{text:"local version",value:"module_version"},{text:"latest version",value:"module_version"},{text:"Status",value:"status"},{text:"Actions",value:"actions"}],layout:r,isLoading:!1,isError:!1,allmodules:n,selectValue:null,selectCategoryValue:[],options:null,categories:i,picked:null}},created:function(){window.onpopstate=function(t){this.selectValue=t.state.module,this.selectCategoryValue=null}},methods:{findModule:function(t){return this.allmodules.find((function(e){return e.class_name===t}))},selectedLayout:function(t){this.layout=t,localStorage.setItem("layout",t)},selectedModule:function(){if(null!==this.selectValue){this.selectCategoryValue=null;var t={module:this.selectValue};history.pushState(t,null,"?module="+this.selectValue.name)}},selectedCategory:function(){if(null!==this.selectCategoryValue){this.selectValue=null;var t={module:this.selectValue};history.pushState(t,null,"?category="+this.selectCategoryValue.name)}},loadData:function(){var t=this;console.log("loadData");var e="getData/",a="getCategories/";this.isLoading=!0,this.$http.get(e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){console.log("modules data array loaded"),t.$http.get(a,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(a){t.allmodules=e.data,window.allmodules=t.allmodules,t.categories=a.data,t.isLoading=!1,t.getModuleOrCategoryFromUrl()})).catch((function(t){this.isError=!0,console.log(t)}))})).catch((function(t){this.isError=!0,console.log(t)}))},getModuleOrCategoryFromUrl:function(){var t,e=new URLSearchParams(window.location.search),a=e.get("module"),l=e.get("category");null!==a?(t=this.allmodules.find((function(t){return t.name===a})),this.selectValue=t):null!==l?(t=this.categories.find((function(t){return t.name===l})),this.selectCategoryValue=t):this.selectCategoryValue={name:"core",title:"Core Modules"}},getModuleFromUrl:function(t){var e=this;t&&(this.isLoading=!0,this.$http.get("./download/?url="+t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(t){console.log("modules.json loaded"),200===t.status?(e.isLoading=!1,UIkit.modal.alert(t.data.message).then((function(t){e.loadData()}))):(e.isLoading=!1,UIkit.modal.alert("Error"))})).catch((function(t){e.isLoading=!1,UIkit.modal.alert("Failed to install the module: "+t)})))}},computed:{listLength:function(){return this.list.length},list:function(){var t=this;return console.log("computed list called"),console.log("Zeige nur: "+this.picked),this.allmodules.filter((function(e){self.options=self.allmodules;var a=t.selectCategoryValue,l=!1,s=!1;if(null!==t.selectValue&&(l=t.selectValue.name===e.name,!0),null!==a&&"undefined"!==typeof a){var o=e.categories.filter((function(t){return t.name===a.name}));s=o.length>0,l=o.length>0}return null!==t.picked&&""!==t.picked&&!0===s&&(l="installed"===t.picked?"installed"===e.status||"updateable"===e.status:e.status===t.picked),l}))}},mounted:function(){window.vm=this,window.addEventListener("loadData",this.loadData),this.loadData(),t(document).on("click",".pw-panel",(function(e){if("undefined"!==typeof pwPanels){var a=t(e.target);pwPanels.addPanel(a),a.click()}else UIkit.modal.alert("Normally a ProcessWire panel with the module's settings would be opened now")})),t(document).on("submit","#module-manager-install-from-url form",(function(t){t.preventDefault();var e=document.getElementById("module-download-url").value;window.vm.getModuleFromUrl(e)}))}}}).call(this,a("1157"))}});
//# sourceMappingURL=main.js.map